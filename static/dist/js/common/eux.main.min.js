!function(t){function i(t,i,n,s,e){this.r=i,this.color=n,this.canvas=t,this.context=this.canvas.getContext("2d"),this.cWidth=this.canvas.offsetWidth,this.cHeight=this.canvas.offsetHeight,this.lineWidth=s,this.speed=e,this.data=[{x:36,y:136},{x:90,y:54},{x:118,y:222},{x:196,y:110},{x:246,y:36}],this.points=[],this.init()}function n(t,i,n,s,e){this.x=t,this.originX=t,this.y=i,this.originY=i,this.r=n,this.color=s,this.dx=(2*Math.random()-1)*e,this.dy=(2*Math.random()-1)*e}t.fn.decoration=function(n){var s=t.extend({r:6,color:"#205780",lineWidth:2,speed:.5},n);return this.each(function(){new i(this,s.r,s.color,s.lineWidth,s.speed)})},i.prototype.init=function(){var t=this;this.initPoint(),requestAnimationFrame(function(){t.pointAnimate()})},i.prototype.initPoint=function(){for(var t=0;t<this.data.length;t++){var i=new n(this.data[t].x,this.data[t].y,this.r,this.color,this.speed);this.points.push(i)}},i.prototype.pointAnimate=function(){var t=this;this.context.clearRect(0,0,this.cWidth,this.cHeight);for(var i=[],n=[],s=0;s<this.points.length;s++)this.points[s].create(this.context),i[s]=this.points[s].getPoint().x,n[s]=this.points[s].getPoint().y;this.drawLine(i[0],n[0],i[1],n[1]),this.drawLine(i[1],n[1],i[2],n[2]),this.drawLine(i[1],n[1],i[3],n[3]),this.drawLine(i[2],n[2],i[3],n[3]),this.drawLine(i[3],n[3],i[4],n[4]),requestAnimationFrame(function(){t.pointAnimate()})},i.prototype.drawLine=function(t,i,n,s){this.context.strokeStyle=this.color,this.context.lineWidth=this.lineWidth,this.context.beginPath(),this.context.moveTo(t,i),this.context.lineTo(n,s),this.context.closePath(),this.context.stroke()},n.prototype.create=function(t){t.fillStyle=this.color,this.x+=this.dx,this.y+=this.dy,(this.x>this.originX+30||this.x<this.originX-30)&&(this.dx=-this.dx),(this.y>this.originY+30||this.y<this.originY-30)&&(this.dy=-this.dy),t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI,!1),t.closePath(),t.fill()},n.prototype.getPoint=function(){return{x:this.x,y:this.y}}}(jQuery),$(function(){$(".decoration").decoration()}),$(function(){$(".eux-message-btn").click(function(){return $(".eux-message").fadeIn("slow"),!1}),$(".eux-message .eux-close-side").click(function(){$(".eux-message").fadeOut("slow")}),$("#eux-message-form").submit(function(){var t=$(this).serialize();return alert(t),$.post("/message",t,function(t){t=JSON.parse(t),200==t.status?alert("留言成功！"):alert(t.msg)}),!1})}),$(function(){function t(){$("#navbar").animate({right:0},"slow")}function i(){$("#navbar").animate({right:"-200px"},"slow")}switch($(".eux-nav li").removeClass("active"),$(".navbar-fixed-top").removeClass("opacity-navbar"),window.location.pathname){case"/":$(".eux-nav li").eq(0).addClass("active"),$(".navbar-fixed-top").addClass("opacity-navbar");break;case"/blog":$(".eux-nav li").eq(1).addClass("active")}$("#eux-collapse-btn").click(function(n){n.stopPropagation(),$("#navbar").height(window.innerHeight),t(),$("body").click(function(t){i()})}),$("#navbar").click(function(t){t.stopPropagation()}),$(".eux-nav .eux-close-side").click(function(){i()}),$("#login-btn").click(function(){return $(".login-form").slideDown("fast").show(),!1}),$(".login-form .eux-close-side").click(function(){$(".login-form").hide()}),$(".login-form form").submit(function(){var t=$(this).serialize();return $.post("/user/login",t,function(t){t=JSON.parse(t),200==t.status?window.location.reload():$("#login-error-text").text(t.msg).show()}),!1})});